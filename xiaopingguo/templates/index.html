<!DOCTYPE html>
<html>
<head>
    <!--<title>çˆ±Taå°±ä¸ºTaæŠ¢è‹¹æœ</title>-->
    <title>æŠ¢ä¸€ä¸ªå¹³å®‰æœ,é€ç»™æœ€å¿ƒçˆ±çš„Ta</title>
    <meta charset="utf-8"/>
    <meta name="viewport"
          content="initial-scale=1, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0, width=device-width,target-densitydpi=device-dpi"/>
    <script type="text/javascript" src="/static/js/jquery.min.js"></script>
    <script type="text/javascript">
        var i = new Date().getTime() % 5;

        document.write('<script type="text/javascript" src="/static/js/createjs.js"><\/script>');

        var isDesktop = navigator['userAgent'].match(/(ipad|iphone|ipod|android|windows phone)/i) ? false : true;
        var fontunit = isDesktop ? 20 : ((window.innerWidth > window.innerHeight ? window.innerHeight : window.innerWidth) / 320) * 10;
        document.write('<style type="text/css">' +
            'html,body {font-size:' + (fontunit < 30 ? fontunit : '30') + 'px;}' +
            (isDesktop ? '#welcome,#GameTimeLayer,#GameLayerBG,#GameScoreLayer.SHADE{position: absolute;}' :
                '#welcome,#GameTimeLayer,#GameLayerBG,#GameScoreLayer.SHADE{position:fixed;}@media screen and (orientation:landscape) {#landscape {display: box; display: -webkit-box; display: -moz-box; display: -ms-flexbox;}}') +
            '</style>');
    </script>
    <style type="text/css">
        body {
            font-family: "Helvetica Neue", Helvetica, STHeiTi, sans-serif;
            margin: 0;
            padding: 0;
        }

        .loading {
            background-image: url("/static/image/download.gif");
            background-repeat: no-repeat;
            background-position: center center;
            background-size: auto 60%;
        }

        .SHADE {
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            bottom: 0;
            z-index: 11;
        }

        .BOX-V {
            box-orient: vertical;
            -webkit-box-orient: vertical;
            -moz-box-orient: vertical;
            -ms-flex-direction: column;
        }

        .BOX-D {
            box-align: end;
            box-pack: center
            -webkit-box-align: end;
            -webkit-box-pack: center;
            -ms-flex-align: end;
            -ms-flex-pack: center;
        }

        .BOX-M {
            box-align: center;
            box-pack: center;
            -webkit-box-align: center;
            -webkit-box-pack: center;
            -ms-flex-align: center;
            -ms-flex-pack: center;
        }

        .BOX-S {
            display: block;
            box-flex: 1;
            -webkit-box-flex: 1;
            -moz-box-flex: 1;
            -ms-flex: 1;
        }

        .BOX, .BOX-V, .BOX-D, .BOX-M, .FOOTER {
            display: box;
            display: -webkit-box;
            display: -moz-box;
            display: -ms-flexbox;
        }

        .BBOX, .BOX, .APP-STAGE, .INSET-STAGE, .STAGE, .PAGE-STAGE, .PAGE, .PAGE-BOX, .INSET-PAGE, .FOOTER {
            box-sizing: border-box;
            -webkit-box-sizing: border-box;
            -moz-box-sizing: border-box;
        }

        .CHRISTMAS-BG {
            background-image: url("/static/image/bg-ch.jpg");
            background-repeat: no-repeat;
            background-size: cover;
        }

        .QRCODE {
            width: 15em;
            height: 15em;
        }

        #welcome {
            background-color: rgba(0, 0, 0, .8);
            text-align: center;
            font-weight: bold;
            overflow: hidden;
        }

        .welcome-bg {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url(./81345eabgw1ei0jyahwhwj20gp0qzt9s.jpg) center center no-repeat;
            background-size: 100% 100%;
            opacity: .4;
            overflow: hidden;
        }

        #GameTimeLayer {
            top: 1em;
            left: 0;
            width: 100%;
            text-align: center;
            color: #f00;
            font-size: 4em;
            text-shadow: 0 0 3px #fff, 0 0 3px #fff, 0 0 3px #fff;
            overflow: hidden;
        }

        #GameLayerBG {
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            overflow: hidden;
            background: #fff;
        }

        .GameLayer {
            position: absolute;
            bottom: 0;
            left: 0;
        }

        .block {
            position: absolute;
            border-top: 1px solid #1D70B6;
            background-repeat: no-repeat;
            background-position: center;
        }

        .t1, .t2, .t3, .t4, .t5 {
            background-size: auto 100%;
            background-image: url("/static/image/640.png");
        }

        .tt1, .tt2, .tt3, .tt4, .tt5 {
            background-size: auto 86%;
            background-image: url("/static/image/l.png");
        }

        .bl {
            border-left: 1px solid #1D70B6;
        }

        @-ms-keyframes flash {
            0% {
                opacity: 1;
            }
            50% {
                opacity: 0;
            }
            100% {
                opacity: 1;
            }
        }

        @-webkit-keyframes flash {
            0% {
                opacity: 1;
            }
            50% {
                opacity: 0;
            }
            100% {
                opacity: 1;
            }
        }

        .flash {
            -webkit-animation: flash .2s 3;
            animation: flash .2s 3;
        }

        .bad {
            background-color: #f00;
            -webkit-animation: flash .2s 3;
            animation: flash .2s 3;
        }

        * {
            -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
            -ms-tap-highlight-color: rgba(0, 0, 0, 0);
            tap-highlight-color: rgba(0, 0, 0, 0);
            -ms-user-select: none;
        }

        #GameScoreLayer {
            background-position: center .5em;
            background-size: auto 4em;
            padding-top: 0.5em;
            font-size: 2em;
            font-weight: bold;
            color: #fff;
            text-align: center;
            overflow: hidden;
        }

        .bgc1 {
            background-color: #23378B;
        }

        .bgc2 {
            background-color: #009FE3;
        }

        .bgc3 {
            background-color: #E42313;
        }

        .bgc4 {
            background-color: #FCBD1B;
        }

        .bgc5 {
            background-color: #34002A;
        }

        .share-icon {
            width: 1.7em;
            background-repeat: no-repeat;
            background-size: auto 100%;
        }

        #GameScoreLayer-btn, #GameScoreLayer-share {
            text-align: center;
            font-size: 1.1em;
            height: 2em;
            line-height: 2em;
        }

        .btn:active {
            opacity: 0.2;
        }

        #landscape {
            display: none;
        }

        #gameBody {
            position: relative;
            width: 640px;
            margin: 0 auto;
            height: 100%;
        }

        #share-wx {
            background: rgba(0, 0, 0, 0.8);
            position: absolute;
            top: 0px;
            left: 0px;
            width: 100%;
            height: 100%;
            z-index: 10000;
            display: none;
        }

        .btn {
            width: 15em;
            height: 5em;
            line-height: 5em;
            margin: auto;
            margin-top: 10px;
            background-image: url('/static/image/qiangbtn.png');
            background-repeat: no-repeat;
            background-size: 15em 5em;
            color: #d95047;
            background-color: transparent !important;
        }

        .detail {
            margin: 0px 5px;
            text-align: left;
            /*width: 16em;*/
            color: white;
            font-size: 10px;
            /*height: calc(5em/3);*/
            /*line-height: height: calc(5em/3);*/
        }

        .detail-span {
            color: #fef203;
        }

        .detail-footer {
            margin: 0px 2px;
            text-align: left;
            color: white;
            font-size: 10px;
            line-height: calc(5em / 3);
            height: calc(5em / 3);
        }

        #lingjiang {
            display: none;
        }

        /*audio{
            height: 0px;
            width: 0px;
            margin: 0px;
            padding: 0px;
            border: none;
        }*/
        #rule-page {
            display: none;
        }

        #ready-btn {
            width: 120px;
            height: 50px;
            left: 90px;
            background-image: url('/static/image/startbtn.png');
            background-repeat: no-repeat;
            background-size: 120px 50px;
            position: absolute;
            bottom: 20px;
        }

        .rule-title {
            font-size: 18px !important;
            margin: 0px;
            padding: 0px;
            margin-bottom: 10px;
        }

        .rule {
            margin: 0px;
            padding: 0px;
            text-align: left;
            padding-left: 10px;
            padding-right: 10px;
            margin-top: 10px;
            font-size: 11px !important;
        }
    </style>
    <script type="text/javascript" src="http://tajs.qq.com/stats?sId=35420161" charset="UTF-8"></script>
</head>
<body onload="init()">
<!--<audio id="music" src="jinglebells.mp3" autoplay="autoplay" loop="loop" preload="auto"></audio>-->
<script type="text/javascript">
    window.shareData = {
        //  è¿™é‡Œçš„åˆ†äº«æ•°æ®éœ€è¦ä¿®æ”¹
        "imgUrl": "http://www.wenzhangku.com/weixin/xiaopingguo/l.png",
        "timeLineLink": "http://www.wenzhangku.com/weixin/xiaopingguo/",
        "tTitle": "æˆ‘æ˜¯ä½ çš„å°å‘€å°è‹¹æœï¼",
        "tContent": "æˆ‘æ˜¯ä½ çš„å°å‘€å°è‹¹æœ,æ€ä¹ˆçˆ±ä½ éƒ½ä¸å«Œå¤šï¼"
    };

    if (isDesktop)
        document.write('<div id="gameBody">');
    var body, blockSize, GameLayer = [], GameLayerBG, touchArea = [], GameTimeLayer;
    var transform, transitionDuration;
    // åˆå§‹åŒ–
    function init(argument) {
        showWelcomeLayer();
        body = document.getElementById('gameBody') || document.body;
        body.style.height = window.innerHeight + 'px';
        transform = typeof(body.style.webkitTransform) != 'undefined' ? 'webkitTransform' : (typeof(body.style.msTransform) != 'undefined' ? 'msTransform' : 'transform');
        transitionDuration = transform.replace(/ransform/g, 'ransitionDuration');

        GameTimeLayer = document.getElementById('GameTimeLayer');
        GameLayer.push(document.getElementById('GameLayer1'));
        GameLayer[0].children = GameLayer[0].querySelectorAll('div');
        GameLayer.push(document.getElementById('GameLayer2'));
        GameLayer[1].children = GameLayer[1].querySelectorAll('div');
        GameLayerBG = document.getElementById('GameLayerBG');
        if (GameLayerBG.ontouchstart === null) {
            GameLayerBG.ontouchstart = gameTapEvent;
        } else {
            GameLayerBG.onmousedown = gameTapEvent;
            document.getElementById('landscape-text').innerHTML = 'ç‚¹æˆ‘å¼€å§‹ç©è€';
            document.getElementById('landscape').onclick = winOpen;
        }
        gameInit();
        window.addEventListener('resize', refreshSize, false);

        var rtnMsg = "true";

        setTimeout(function () {
            if (rtnMsg == 'false') {
                var btn = document.getElementById('ready-btn');
//						btn.className = 'btn';
//						btn.innerText = 'æ‚¨ä»Šå¤©å·²ç»åƒå¤ªå¤šè‹¹æœå•¦ï¼Œè¯·æ˜å¤©ç»§ç»­ï¼'
            } else {
                var btn = document.getElementById('ready-btn');
//						btn.className = 'btn';
//						btn.innerText = 'æŠ¢å¹³å®‰æœ'
                btn.onclick = function () {
                    closeWelcomeLayer();
                }
            }
        }, 500);
    }
    function showRulePage() {
        var rule = document.getElementById('rule-page');
        rule.style.display = 'block';
    }

    function winOpen() {
        window.open(location.href + '?r=' + Math.random(), 'nWin', 'height=500,width=320,toolbar=no,menubar=no,scrollbars=no');
        var opened = window.open('about:blank', '_self');
        opened.opener = null;
        opened.close();
    }
    var refreshSizeTime;
    function refreshSize() {
        clearTimeout(refreshSizeTime);
        refreshSizeTime = setTimeout(_refreshSize, 200);
    }
    function _refreshSize() {
        countBlockSize();
        for (var i = 0; i < GameLayer.length; i++) {
            var box = GameLayer[i];
            for (var j = 0; j < box.children.length; j++) {
                var r = box.children[j],
                    rstyle = r.style;
                rstyle.left = (j % 4) * blockSize + 'px';
                rstyle.bottom = Math.floor(j / 4) * blockSize + 'px';
                rstyle.width = blockSize + 'px';
                rstyle.height = blockSize + 'px';
            }
        }
        var f, a;
        if (GameLayer[0].y > GameLayer[1].y) {
            f = GameLayer[0];
            a = GameLayer[1];
        } else {
            f = GameLayer[1];
            a = GameLayer[0];
        }
        var y = ((_gameBBListIndex) % 10) * blockSize;
        f.y = y;
        f.style[transform] = 'translate3D(0,' + f.y + 'px,0)';

        a.y = -blockSize * Math.floor(f.children.length / 4) + y;
        a.style[transform] = 'translate3D(0,' + a.y + 'px,0)';

    }
    function countBlockSize() {
        blockSize = body.offsetWidth / 4;
        body.style.height = window.innerHeight + 'px';
        GameLayerBG.style.height = window.innerHeight + 'px';
        touchArea[0] = window.innerHeight - blockSize * 0;
        touchArea[1] = window.innerHeight - blockSize * 3;
    }
    var _gameBBList = [], _gameBBListIndex = 0, _gameOver = false, _gameStart = false, _gameTime, _gameTimeNum, _gameScore;
    function gameInit() {
        createjs.Sound.registerSound({src: "/static/mp3/1.mp3", id: "err"});
        createjs.Sound.registerSound({src: "/static/mp3/2.mp3", id: "end"});
        createjs.Sound.registerSound({src: "/static/mp3/3.mp3", id: "tap"});
        gameRestart();
    }
    function gameRestart() {
        console.log('gameRestart');
        _gameBBList = [];
        _gameBBListIndex = 0;
        _gameScore = 0;
        _gameOver = false;
        _gameStart = false;
        _gameTimeNum = 2000;
        GameTimeLayer.innerHTML = creatTimeText(_gameTimeNum);
        countBlockSize();
        refreshGameLayer(GameLayer[0]);
        refreshGameLayer(GameLayer[1], 1);
    }
    function gameStart() {
        _gameStart = true;
        _gameTime = setInterval(gameTime, 10);
    }
    function gameOver() {
        _gameOver = true;
        clearInterval(_gameTime);
        setTimeout(function () {
            GameLayerBG.className = '';
            showGameScoreLayer();
        }, 1500);
    }
    function gameTime() {
        _gameTimeNum--;
        if (_gameTimeNum <= 0) {
            GameTimeLayer.innerHTML = '&nbsp;&nbsp;&nbsp;&nbsp;æ—¶é—´åˆ°ï¼';
            gameOver();
            GameLayerBG.className += ' flash';
            createjs.Sound.play("end");
        } else {
            GameTimeLayer.innerHTML = creatTimeText(_gameTimeNum);
        }
    }
    function creatTimeText(n) {
        var text = (100000 + n + '').substr(-4, 4);
        text = '&nbsp;&nbsp;' + text.substr(0, 2) + "'" + text.substr(2) + "''"
        return text;
    }
    var _ttreg = / t{1,2}(\d+)/, _clearttClsReg = / t{1,2}\d+| bad/;
    function refreshGameLayer(box, loop, offset) {
        var i = Math.floor(Math.random() * 1000) % 4 + (loop ? 0 : 4);
        for (var j = 0; j < box.children.length; j++) {
            var r = box.children[j],
                rstyle = r.style;
            rstyle.left = (j % 4) * blockSize + 'px';
            rstyle.bottom = Math.floor(j / 4) * blockSize + 'px';
            rstyle.width = blockSize + 'px';
            rstyle.height = blockSize + 'px';
            r.className = r.className.replace(_clearttClsReg, '');
            if (i == j) {
                _gameBBList.push({cell: i % 4, id: r.id});
                r.className += ' t' + (Math.floor(Math.random() * 1000) % 5 + 1);
                r.notEmpty = true;
                i = ( Math.floor(j / 4) + 1) * 4 + Math.floor(Math.random() * 1000) % 4;
            } else {
                r.notEmpty = false;
            }
        }
        if (loop) {
            box.style.webkitTransitionDuration = '0ms';
            box.style.display = 'none';
            box.y = -blockSize * (Math.floor(box.children.length / 4) + (offset || 0)) * loop;
            setTimeout(function () {
                box.style[transform] = 'translate3D(0,' + box.y + 'px,0)';
                setTimeout(function () {
                    box.style.display = 'block';
                }, 100);
            }, 200);
        } else {
            box.y = 0;
            box.style[transform] = 'translate3D(0,' + box.y + 'px,0)';
        }
        box.style[transitionDuration] = '150ms';
    }
    function gameLayerMoveNextRow() {
        for (var i = 0; i < GameLayer.length; i++) {
            var g = GameLayer[i];
            g.y += blockSize;
            if (g.y > blockSize * (Math.floor(g.children.length / 4))) {
                refreshGameLayer(g, 1, -1);
            } else {
                g.style[transform] = 'translate3D(0,' + g.y + 'px,0)';
            }
        }
    }
    function gameTapEvent(e) {
        if (_gameOver) {
            return false;
        }
        var tar = e.target;
        var y = e.clientY || e.targetTouches[0].clientY,
            x = (e.clientX || e.targetTouches[0].clientX) - body.offsetLeft,
            p = _gameBBList[_gameBBListIndex];
        if (y > touchArea[0] || y < touchArea[1]) {
            return false;
        }
        if ((p.id == tar.id && tar.notEmpty) || (p.cell == 0 && x < blockSize) || (p.cell == 1 && x > blockSize && x < 2 * blockSize) || (p.cell == 2 && x > 2 * blockSize && x < 3 * blockSize) || (p.cell == 3 && x > 3 * blockSize)) {
            if (!_gameStart) {
                gameStart();
            }
            createjs.Sound.play("tap");
            tar = document.getElementById(p.id);
            tar.className = tar.className.replace(_ttreg, ' tt$1');
            _gameBBListIndex++;
            _gameScore++;
            gameLayerMoveNextRow();
        } else if (_gameStart && !tar.notEmpty) {
            createjs.Sound.play("err");
            gameOver();
            tar.className += ' bad';
        }
        return false;
    }
    function createGameLayer() {
        var html = '<div id="GameLayerBG">';
        for (var i = 1; i <= 2; i++) {
            var id = 'GameLayer' + i;
            html += '<div id="' + id + '" class="GameLayer">';
            for (var j = 0; j < 10; j++) {
                for (var k = 0; k < 4; k++) {
                    html += '<div id="' + id + '-' + (k + j * 4) + '" num="' + (k + j * 4) + '" class="block' + (k ? ' bl' : '') + '"></div>';
                }
            }
            html += '</div>';
        }
        html += '</div>';

        html += '<div id="GameTimeLayer"></div>';

        return html;
    }
    function closeWelcomeLayer() {
        var l = document.getElementById('welcome');
        l.style.display = 'none';
    }
    function showWelcomeLayer() {
        var l = document.getElementById('welcome');
        l.style.display = 'block';
    }
    function showGameScoreLayer() {

        //å¢åŠ ç”¨æˆ·å¾®å¸
        var addCoins = Math.ceil(_gameScore / 5);
        $.get("http://mmbiz.qpic.cn/games/fight_pig/fightPigData.php?addCoins=" + addCoins + "&user=",
            function (data, status) {
                //alert(data);
                if (data >= 3) {
                    document.getElementById('GameScoreLayer-btn').style.display = 'none';
                    document.getElementById('GameScoreLayer-msg').style.display = 'block';
                }
            });
        var l = document.getElementById('GameScoreLayer');
        var c = document.getElementById(_gameBBList[_gameBBListIndex - 1].id).className.match(_ttreg)[1];
        l.className = l.className.replace(/bgc\d/, 'bgc' + c);
        document.getElementById('GameScoreLayer-text').innerHTML = shareText(_gameScore);
        //document.getElementById('GameScoreLayer-score').innerHTML = 'å¾—åˆ†&nbsp;&nbsp;'+_gameScore;
        if (flag) { // å¤§äºç­‰äº150ä¸ªå°±æ˜¾ç¤ºé¢†å¥–é¡µé¢
            document.getElementById('lingjiang').style.display = 'block';
        } else { // ä¸æ˜¾ç¤ºé¢†å¥–é¡µé¢
            document.getElementById('lingjiang').style.display = 'none';
        }
        var bast = cookie('bast-score');
        if (!bast || _gameScore > bast) {
            bast = _gameScore;
            cookie('bast-score', bast, 100);
        }
        document.getElementById('GameScoreLayer-bast').innerHTML = 'æœ€ä½³&nbsp;&nbsp;' + bast;
        l.style.display = 'block';
        window.shareData.tTitle = 'æˆ‘åƒæ‰äº†' + _gameScore + 'ä¸ªå°è‹¹æœï¼Œä¸æœæ¥æŒ‘æˆ˜ï¼ï¼ï¼'
    }
    function hideGameScoreLayer() {
        var l = document.getElementById('GameScoreLayer');
        l.style.display = 'none';
    }
    // æ¸¸æˆç»“æŸçš„ "é‡æ¥"æŒ‰é’®ç‚¹å‡»äº‹ä»¶
    function replayBtn() {
        gameRestart();
        hideGameScoreLayer();
    }
    function backBtn() {
        gameRestart();
        hideGameScoreLayer();
        showWelcomeLayer();
    }
    // éœ€è¦åˆ†äº«åçš„å›è°ƒåœ°å€
    var mebtnopenurl = '';
    var linj = document.getElementById('lingjiang');
    var flag = false;
    var user_score = 0; // ç”¨æˆ·åˆ†æ•°
    // è®¾ç½®ä¸­å¥–è§„åˆ™
    function shareText(score) {
        var coins = Math.ceil(score / 5);
        // å­˜å‚¨ç”¨æˆ·åˆ†æ•°
        user_score = score;
        localStorage.setItem("user_score", user_score);

        if (score <= 49) {
            flag = false;
            return 'å‘µå‘µï¼ä½ æŠ¢åˆ°äº†' + score + 'ä¸ªå°è‹¹æœï¼<br/>äº²ï¼Œè¿˜å¾—åŠ æ²¹å“¦!';
        }
        if (score <= 99) {
            flag = false;
            return 'é…·ï¼ä½ æŠ¢åˆ°äº†' + score + 'ä¸ªå°è‹¹æœï¼<br/>äº²ï¼Œä¸é”™å“¦ï¼';
        }
        if (score <= 149) {
            flag = false;
            return 'å¸…å‘†äº†ï¼ä½ æŠ¢åˆ°äº†' + score + 'ä¸ªå°è‹¹æœï¼<br/>äº²ï¼Œçˆ±æ­»ä½ äº†ï¼';
        }
        if (score >= {{ up_score }}) { // å¤§äºç­‰äº150ä¸ªæ‰å¯ä»¥é¢†å¥–
            flag = true;
            return 'å¤ªç‰›äº†ï¼ä½ æŠ¢åˆ°äº†' + score + 'ä¸ªå°è‹¹æœï¼<br/>äº²ï¼Œå¥¥å·´é©¬å’Œé‡‘æ­£æ©éƒ½æƒŠå‘†äº†ï¼';
        }else if ( (score >= 150)  && (score <= {{ up_score }}) ){
            flag = false;
            return 'å¤ªç‰›äº†ï¼ä½ æŠ¢åˆ°äº†' + score + 'ä¸ªå°è‹¹æœï¼<br/>äº²ï¼Œå¥¥å·´é©¬å’Œé‡‘æ­£æ©éƒ½æƒŠå‘†äº†ï¼';
        }
    }
    // å¯¹è±¡è½¬å­—ç¬¦ä¸²
    function toStr(obj) {
        if (typeof obj == 'object') {
            return JSON.stringify(obj);
        } else {
            return obj;
        }
        return '';
    }
    // åˆ†è£…çš„cookie å­˜å‚¨æ–¹æ³•
    function cookie(name, value, time) {
        if (name) {
            if (value) {
                if (time) {
                    var date = new Date();
                    date.setTime(date.getTime() + 864e5 * time), time = date.toGMTString();
                }
                return document.cookie = name + "=" + escape(toStr(value)) + (time ? "; expires=" + time + (arguments[3] ? "; domain=" + arguments[3] + (arguments[4] ? "; path=" + arguments[4] + (arguments[5] ? "; secure" : "") : "") : "") : ""), !0;
            }
            return value = document.cookie.match("(?:^|;)\\s*" + name.replace(/([-.*+?^${}()|[\]\/\\])/g, "\\$1") + "=([^;]*)"), value = value && "string" == typeof value[1] ? unescape(value[1]) : !1, (/^(\{|\[).+\}|\]$/.test(value) || /^[0-9]+$/g.test(value)) && eval("value=" + value), value;
        }
        var data = {};
        value = document.cookie.replace(/\s/g, "").split(";");
        for (var i = 0; value.length > i; i++) name = value[i].split("="), name[1] && (data[name[0]] = unescape(name[1]));
        return data;
    }
    document.write(createGameLayer());
    // åˆ†äº«æŒ‰é’®ç‚¹å‡»äº‹ä»¶
    function share() {
        document.getElementById('share-wx').style.display = 'block';
        document.getElementById('share-wx').onclick = function () {
            this.style.display = 'none';
        };
    }
    /*éŸ³ä¹*/
{#			 var audio = $('#music');#}
{#			    var isPlaying = false;#}
{#			    function playAudio() {#}
{#			        var audio = $('#music');#}
{#			        if (audio.attr('src') == undefined) {#}
{#			            audio.attr('src', audio.data('src'));#}
{#			        }#}
{#			        audio[0].play();#}
{#			        isPlaying = true;#}
{#			    }#}
    document.addEventListener('WeixinJSBridgeReady', function onBridgeReady() {
{#        playAudio();#}
        // åˆ†äº«å¾®ä¿¡å¥½å‹
        WeixinJSBridge.on('menu:share:appmessage', function (argv) {
            WeixinJSBridge.invoke('sendAppMessage', {
                "img_url": window.shareData.imgUrl,
                "link": window.shareData.timeLineLink,
                "desc": window.shareData.tContent,
                "title": window.shareData.tTitle
            }, function (res) {
                // åˆ†äº«åçš„å›è°ƒ
                document.location.href = mebtnopenurl;
            })
        });
        // å¾®ä¿¡æœ‹å‹åœˆåˆ†äº«
        WeixinJSBridge.on('menu:share:timeline', function (argv) {
            WeixinJSBridge.invoke('shareTimeline', {
                "img_url": window.shareData.imgUrl,
                "img_width": "640",
                "img_height": "640",
                "link": window.shareData.timeLineLink,
                "desc": window.shareData.tContent,
                "title": window.shareData.tTitle
            }, function (res) {
                // åˆ†äº«åçš„å›è°ƒ
                document.location.href = mebtnopenurl;
            });
        });
    }, false);
    // é¢†å¥–æŒ‰é’®ç‚¹å‡»äº‹ä»¶
    function lingjiangBtn() {
        window.location.href = {%  url "register"  %};
    }


</script>

<!--
    æ¸¸æˆç»“æŸç•Œé¢
-->
<div id="GameScoreLayer" class="BBOX SHADE bgc1" style="display:none; position: relative;">
    <div style="padding:0 5%;">
        <div id="GameScoreLayer-text"></div>
        <br/>
        <div id="GameScoreLayer-bast">æœ€ä½³</div>
        <br/>
        <div id="GameScoreLayer-btn" class="BOX" style="width: 300px; margin: auto; text-align: center;">
            <div onclick="replayBtn()"
                 style="width: 80px; height: 50px; background-color: dodgerblue; line-height: 50px;">é‡æ¥
            </div>
            <div onclick="share()"
                 style="width: 200px; height: 50px; background-color: dodgerblue; line-height: 50px; margin-left: 10px;">
                åˆ†äº«åˆ°æœ‹å‹åœˆ
            </div>
        </div>
        <br/>
        <div align="center" style="font-size:0.8em;">
            <a style="color:#fff">å…³æ³¨æˆ‘ä»¬ï¼Œè¿›å•†åŸï¼Œé¢†200ä¼˜æƒ åˆ¸</a>
            <img class="QRCODE" src="/static/image/WechatIMG6.jpeg"/>
        </div>
        <!--<div id="GameScoreLayer-msg" class="BOX" style="display:block">æ¯å¤©åªèƒ½åƒ3æ¬¡å°è‹¹æœï¼Œæ˜å¤©ç»§ç»­å§ï¼ </div>-->
        <!-- é¢†å¥–å¼¹æ¡† -->
        <div id="lingjiang"
             style="position: absolute; top: 0px; left: 0px; width: 100%; height: 100%; background-color: rgba(0,0,0,0.8);">
            <div style="width: 300px; height: 250px; margin: auto; background-color: rgba(255,255,255,0.8); margin-top: 100px; border-radius: 5px; padding-top: 50px;">
                <p style="text-align: center; margin-bottom: 50px; color: gold; ">ğŸ„æ­å–œä½ ğŸ„<br/>è·å¾—äº†ä¸€ä¸ªå¹³å®‰æœ!</p>
                <div onclick="lingjiangBtn()"
                     style="width: 80px; height: 50px; background-color: dodgerblue; line-height: 50px; float: left;color: red; margin-left: 15px;">
                    é¢†å¥–
                </div>
                <div onclick="share()"
                     style="width: 180px; height: 50px; background-color: dodgerblue; line-height: 50px; float: left; margin-left: 10px;">
                    åˆ†äº«åˆ°æœ‹å‹åœˆ
                </div>
            </div>
        </div>
    </div>
</div>
<!--
    å¼€å§‹ç•Œé¢
-->
<div id="welcome" class="SHADE BOX-M CHRISTMAS-BG">
    <div style="text-align: center; margin-top: 1em;">
        <!--é™ªä½ ä¸€èµ·è¿‡åœ£è¯-->
        <img style="width: 20em; height: 16em;" src="/static/image/image1.png"/>
    </div>
    <!-- æŠ¢ä¸€ä¸ªå¹³å®‰æœ,é€ç»™æœ€å¿ƒçˆ±çš„Ta -->
    <div style="position: relative; width: calc(10em + 145px); margin: auto;">
        <img style="width: 5em; height: 3em; margin-right: 110px;" src="/static/image/left.png"/>
        <span style="color: white; left: calc(5em + 5px); height: 3em; line-height: 3em; position: absolute;">æŠ¢ä¸€ä¸ªå¹³å®‰æœ,é€ç»™æœ€å¿ƒçˆ±çš„Ta</span>
        <img style="width: 5em; height: 3em;" src="/static/image/right.png"/>
    </div>
    <div style="background-color: rgba(1,36,58,0.6); width: 80%; height: calc(100% - 22em); margin:auto; border-radius: 1em; padding-top: 10px;">
        <div>
            <p style="margin: 0px; color: white; font-size:1.5em;">ä¸–ç•Œä¸€å·è‹¹æœ<span style="font-size: 12px;">(ä»·å€¼<span
                    style="color: #fef203;">138</span>å…ƒ/ä¸ª)</span></p>
            <p style="margin: 5px; color: white;">è±ªé€<span id="appCount"
                                                          style="color: #fef203; font-size: 2em;">9999</span>æš
            è¿˜å‰©<span style="color: #fef203; font-size: 2em;">{{ surplus_apple }}</span>æš</p>
            <div class="btn" id="ready-btn1" onclick="showRulePage()"></div>
        </div>
        <div style="padding-top: 10px; width: 90%; margin: auto;">
            <p class="detail">1ã€æ¯äººæœ€å¤šé¢†å–ä¸€æ¬¡ç¤¼å“ï¼Œæ´»åŠ¨æ—¶é—´æˆªæ­¢åˆ°<span class="detail-span">12æœˆ25å·ä¸­åˆ12ç‚¹ã€‚</span></p>
            <p class="detail">2ã€æŠ¢åˆ°è‹¹æœçš„ç”¨æˆ·æˆ‘ä»¬ä¼šåœ¨24å°æ—¶å†…å®‰æ’é…é€,æœ¬æ¬¡æ´»åŠ¨<span class="detail-span">ä»…é™æ­¦æ±‰å¸‚åŸåŒº</span>ç”¨æˆ·ã€‚</p>
            <p class="detail">3ã€æœ¬æ¬¡æ´»åŠ¨çš„æœ€ç»ˆè§£é‡Šæƒå½’æ­¦æ±‰å¤è·å†¬é›ªé£Ÿå“æœ‰é™å…¬å¸ã€‚</p>
        </div>
        <div style="text-align: left; width: 90%; margin: auto; padding-top:1px;">
            <div style="float: left; margin-top: 5px; margin-left: 2px;">
                <img src="/static/image/jkyx-qrcode.jpg" style="width: 5em; height: 5em;"/>
            </div>
            <div style="float: left; width: calc(100% - 5em - 2px); padding-top: 2px;">
                <p class="detail-footer">æ‰«æå·¦ä¾§äºŒç»´ç </p>
                <p class="detail-footer" style="margin-top: 2px;">å…³æ³¨<span class="detail-span">â€œå‰å®¢ä¼˜é²œjackfreshâ€</span>è¿›å…¥æ¸¸æˆ
                </p>
                <p class="detail-footer" style="margin-top: 2px;">è¿›å…¥å•†åŸä¸»é¡µ,é¢†å–200å…ƒä¼˜æƒ åˆ¸å¤§ç¤¼åŒ…</p>
            </div>
        </div>
    </div>
    <!--æ¸¸æˆè§„åˆ™-->
    <div id="rule-page"
         style="position: absolute; top: 0px; left: 0px; width: 100%; height: 100%; background-color: rgba(0,0,0,0.8);">
        <div style="width: 300px; height: 360px; margin: auto; background-color: rgba(255,255,255,0.8); margin-top: 50px; border-radius: 5px; padding-top: 10px; position: relative; font-family: 'æ–°å®‹ä½“' !important;">
            <p class="rule-title">æ¸¸æˆæŒ‰æŠ¢åˆ°çš„è‹¹æœæ•°é‡åˆ†ä¸ºå››ä¸ªæ¡£æ¬¡</p>
            <p class="rule">ç¬¬ä¸€æ¡£ï¼šå‰©ä½™è‹¹æœæ•°å¤§äº9000ï¼Œåˆ†æ•°è¾¾åˆ°150ä»¥ä¸Šå¯é¢†å–å¹³å®‰æœ</p>
            <p class="rule">ç¬¬äºŒæ¡£ï¼šå‰©ä½™è‹¹æœæ•°åœ¨9000åˆ°6000ä¹‹é—´ï¼Œåˆ†æ•°è¾¾åˆ°168ä»¥ä¸Šå¯é¢†å–å¹³å®‰æœ</p>
            <p class="rule">ç¬¬ä¸‰æ¡£ï¼šå‰©ä½™è‹¹æœæ•°åœ¨6000åˆ°5000ä¹‹é—´ï¼Œåˆ†æ•°è¾¾åˆ°180ä»¥ä¸Šå¯é¢†å–å¹³å®‰æœ</p>
            <p class="rule">ç¬¬å››æ¡£ï¼šå‰©ä½™è‹¹æœæ•°åœ¨5000åˆ°2000ä¹‹é—´ï¼Œåˆ†æ•°è¾¾åˆ°200ä»¥ä¸Šå¯é¢†å–å¹³å®‰æœ</p>
            <p class="rule">ç¬¬äº”æ¡£ï¼šå‰©ä½™è‹¹æœæ•°åœ¨2000åˆ°0ä¹‹é—´ï¼Œåˆ†æ•°è¾¾åˆ°228ä»¥ä¸Šå¯é¢†å–å¹³å®‰æœ</p>
            <p class="rule">å¯¹åº”æ¡£æ¬¡çš„è‹¹æœæŠ¢å®Œåè‡ªåŠ¨è¿›å…¥ä¸‹ä¸€æ¡£ï¼Œä»¥æ­¤ç±»æ¨ï¼Œç›´åˆ°æŠ¢å®Œä¸ºæ­¢</p>
            <div id="ready-btn"></div>
        </div>
    </div>
</div>
<!--å¼•å¯¼é¡µ-->
<div id="landscape" class="SHADE BOX-M" style="background:rgba(0,0,0,.9);">
    <div class="welcome-bg FILL"></div>
    <div id="landscape-text" style="color:#fff;font-size:3em;">è¯·ç«–å±ç©è€</div>
</div>
<!--
    åˆ†äº«è’™è”½å±‚
-->
<div id="share-wx"><p style="text-align: right; padding-left: 10px;"><img src="/static/image/2000.png" id="share-wx-img"
                                                                          style="max-width: 280px; padding-right: 25px;">
</p></div>


<script type="text/javascript">
    if (isDesktop)
        document.write('</div>');
</script>

<script>
    function o8() {
    }
</script>
<script language="javascript" type="text/javascript" src="http://js.users.51.la/19070763.js"></script>
</body>
</html>
